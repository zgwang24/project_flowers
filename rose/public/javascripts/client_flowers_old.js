function connect(e){socket=io.connect("http://10.107.31.156:8123/flower"),socket.on("connection",function(){e.connectCallback()}),socket.on("disconnect",function(){e.disconnectCallback()}),socket.on("error",function(c){e.socketErrorCallback(c)}),socket.connect()}function createWish(e,c,n,s,t,o,a,i){connect(i);var r={};r.plateform=e,r.orderId=c,r.head=s,r.content=t,r.name=o;var l={};l.phone=n,l.wishes=[r],l.flowerShop=a,socket.emit("createWish",l),socket.on("createWishSucceed",function(e){i.successCallback(e)}),socket.on("createWishFailed",function(e){i.errorCallback(e)})}function readWish(e,c,n){connect(n);var s={};s.phone=e,s.flowerShop=c,socket.emit("readWish",s),socket.on("readWishSucceed",function(e){n.successCallback(e)}),socket.on("readWishFailed",function(e){n.errorCallback(e)})}function register(e,c,n){connect(n);var s={};s.phone=e,s.password=c,socket.emit("register",s),socket.on("createUserSucceed",function(e){n.successCallback(e)}),socket.on("createUserFailed",function(e){n.errorCallback(e)})}function login(e,c,n){connect(n);var s={};s.phone=e,s.password=c,socket.emit("login",s),socket.on("readUserSucceed",function(e){n.successCallback(e)}),socket.on("readUserFailed",function(e){n.errorCallback(e)})}function update(e,c,n){connect(n);var s={};s.phone=e,s.password=c,socket.emit("update",s),socket.on("updateUserSucceed",function(e){n.successCallback(e)}),socket.on("updateUserFailed",function(e){n.errorCallback(e)})}function send(e,c){connect(c),socket.emit("sendMessage",e),socket.on("sendMessageSucceed",function(e){c.successCallback(e)})}function loginMessage(e,c,n){connect(n);var s={};s.phone=e,s.product=c,socket.emit("loginMessage",s),socket.on("loginMessageSucceed",function(e){n.successCallback(e)})}function registerMessage(e,c,n){connect(n);var s={};s.phone=e,s.product=c,socket.emit("registerMessage",s),socket.on("registerMessageSucceed",function(e){n.successCallback(e)})}function identityMessage(e,c,n){connect(n);var s={};s.phone=e,s.product=c,socket.emit("identityMessage",s),socket.on("identityMessageSucceed",function(e){n.successCallback(e)})}function updateMessage(e,c,n){connect(n);var s={};s.phone=e,s.product=c,socket.emit("updateMessage",s),socket.on("updateMessageSucceed",function(e){n.successCallback(e)})}var socket=null,client={};client.createWish=createWish,client.readWish=readWish,client.register=register,client.login=login,client.update=update,client.send=send,client.loginMessage=loginMessage,client.registerMessage=registerMessage,client.identityMessage=identityMessage,client.updateMessage=updateMessage;